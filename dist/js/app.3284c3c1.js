(function(){var e={5188:function(e,t,n){"use strict";n.r(t),t["default"]={loading:e=>{const{normalize:t}=e;return t(["Loading..."])},wind:e=>{const{normalize:t}=e;return t(["Wind"])},humidity:e=>{const{normalize:t}=e;return t(["Humidity"])},pressure:e=>{const{normalize:t}=e;return t(["Pressure"])},speed:e=>{const{normalize:t}=e;return t(["m/s"])},pres:e=>{const{normalize:t}=e;return t(["hPa"])},api:e=>{const{normalize:t}=e;return t(["en"])}}},7526:function(e,t,n){"use strict";n.r(t),t["default"]={loading:e=>{const{normalize:t}=e;return t(["Загрузка..."])},wind:e=>{const{normalize:t}=e;return t(["Ветер"])},humidity:e=>{const{normalize:t}=e;return t(["Влажность"])},pressure:e=>{const{normalize:t}=e;return t(["Давление"])},speed:e=>{const{normalize:t}=e;return t(["м/с"])},pres:e=>{const{normalize:t}=e;return t(["гПа"])},api:e=>{const{normalize:t}=e;return t(["ru"])}}},3340:function(e,t,n){"use strict";var a=n(5130),i=n(6768),r=n(4232);const s={class:"app"},o={class:"app_top"},c={key:0,class:"app__load"},l={key:1,class:"app__main"},u={class:"app_bot"},d={key:0,class:"app__load"},h={key:1};function p(e,t,n,a,p,m){const g=(0,i.g2)("my-header"),v=(0,i.g2)("weather-main-card"),f=(0,i.g2)("feature-list"),_=(0,i.g2)("card-list");return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.bF)(g,{ref:"header",currentUnits:p.currentUnits,cities:p.cities,SC:p.selectedCity},null,8,["currentUnits","cities","SC"]),(0,i.Lk)("div",o,[p.weatherNow?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(v,{class:"main-card",weatherNow:p.weatherNow,units:p.currentUnits},null,8,["weatherNow","units"]),(0,i.bF)(f,{onSendSC:m.getFeature},null,8,["onSendSC"])])):((0,i.uX)(),(0,i.CE)("div",c,(0,r.v_)(e.$t("loading")),1))]),(0,i.Lk)("div",u,[p.weatherNow?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.bF)(_,{weather:p.weatherForecast,units:p.currentUnits},null,8,["weather","units"])])):((0,i.uX)(),(0,i.CE)("div",d,(0,r.v_)(e.$t("loading")),1))])])}var m=n.p+"img/chevron_right_64dp_E8EAED_FILL0_wght400_GRAD0_opsz48.559ad409.svg";const g={class:"cardList"},v={key:1,width:"68px"},f={key:2},_={key:3,class:"list"},w={class:"list__time"},k={key:5,width:"68px"},b={class:"pages"};function y(e,t,n,a,s,o){const c=(0,i.g2)("weather-card");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",g,[0!=s.listPage?((0,i.uX)(),(0,i.CE)("img",{key:0,onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),src:m,alt:"",style:{rotate:"180deg",cursor:"pointer","margin-right":"20px"}})):((0,i.uX)(),(0,i.CE)("img",v)),n.weather?((0,i.uX)(),(0,i.CE)("div",_,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(4,(e=>(0,i.Lk)("div",{class:"list__item",key:e},[(0,i.Lk)("span",w,(0,r.v_)(new Date(1e3*Number(n.weather["list"][o.pagination(e)]["dt"])).getHours())+":00",1),(0,i.bF)(c,{cloudness:n.weather["list"][o.pagination(e)]["clouds"]["all"],temperature:n.weather["list"][o.pagination(e)]["main"]["temp"],wind:n.weather["list"][o.pagination(e)]["wind"]["speed"],humidity:n.weather["list"][o.pagination(e)]["main"]["humidity"],pressure:n.weather["list"][o.pagination(e)]["main"]["pressure"],desc:n.weather["list"][o.pagination(e)]["weather"][0]["description"],icon:n.weather["list"][o.pagination(e)]["weather"][0]["icon"],units:n.units},null,8,["cloudness","temperature","wind","humidity","pressure","desc","icon","units"])]))),64))])):((0,i.uX)(),(0,i.CE)("div",f,"Загрузка...")),9!=s.listPage?((0,i.uX)(),(0,i.CE)("img",{key:4,onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),src:m,alt:"",style:{cursor:"pointer","margin-left":"20px"}})):((0,i.uX)(),(0,i.CE)("img",k))]),(0,i.Lk)("div",b,(0,r.v_)(s.listPage+1)+" / 10 ",1)],64)}const L={class:"card"},C={class:"card_top"},F={class:"card__main-info"},S=["src"],$={class:"card_bot"},E={class:"card__main-info"},N={class:"card_bot"},x={class:"card__sub-info card__sub-info_1"},O={class:"card__sub-info card__sub-info_2"},P={class:"card__sub-info card__sub-info_3"};function X(e,t,n,a,s,o){return(0,i.uX)(),(0,i.CE)("div",L,[(0,i.Lk)("div",C,[(0,i.Lk)("div",F,[(0,i.Lk)("img",{src:"https://openweathermap.org/img/wn/"+n.icon+"@4x.png",alt:"no icon",height:"64px",width:"64px"},null,8,S),(0,i.Lk)("span",$,(0,r.v_)(n.desc),1)]),(0,i.Lk)("div",E,[(0,i.Lk)("span",null,(0,r.v_)(n.temperature)+" °"+(0,r.v_)(n.units),1)])]),(0,i.Lk)("div",N,[(0,i.Lk)("div",x,[(0,i.Lk)("span",null,(0,r.v_)(e.$t("wind")),1),(0,i.Lk)("span",null,(0,r.v_)(e.$t("humidity")),1),(0,i.Lk)("span",null,(0,r.v_)(e.$t("pressure")),1)]),(0,i.Lk)("div",O,[(0,i.Lk)("span",null,(0,r.v_)(n.wind),1),(0,i.Lk)("span",null,(0,r.v_)(n.humidity),1),(0,i.Lk)("span",null,(0,r.v_)(n.pressure),1)]),(0,i.Lk)("div",P,[(0,i.Lk)("span",null,(0,r.v_)(e.$t("speed")),1),t[0]||(t[0]=(0,i.Lk)("span",null,"%",-1)),(0,i.Lk)("span",null,(0,r.v_)(e.$t("pres")),1)])])])}var U={props:{temperature:String,cloudness:Number,wind:Number,humidity:Number,pressure:Number,desc:String,icon:String,units:String}},j=n(1241);const z=(0,j.A)(U,[["render",X],["__scopeId","data-v-0a307652"]]);var I=z,A={components:{"weather-card":I},props:{weather:JSON,units:String},data(){return{listPage:0}},methods:{prevPage(){var e=document.getElementsByClassName("list");e[0].classList.add("prev-page-anim"),e[0].addEventListener("animationend",(function(){e[0].classList.remove("prev-page-anim")})),0==this.listPage?this.listPage=0:this.listPage--},nextPage(){var e=document.getElementsByClassName("list");e[0].classList.add("next-page-anim"),e[0].addEventListener("animationend",(function(){e[0].classList.remove("next-page-anim")})),9==this.listPage?this.listPage=9:this.listPage++},pagination(e){return e-1+4*this.listPage}}};const W=(0,j.A)(A,[["render",y],["__scopeId","data-v-bbb6f8be"]]);var D=W;const K={class:"header"},T={class:"header__left"},M=["value"],J={class:"header__right"},B=["value"];function H(e,t,n,s,o,c){return(0,i.uX)(),(0,i.CE)("div",K,[(0,i.Lk)("div",T,[(0,i.bo)((0,i.Lk)("select",{class:"header__select",name:"","onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedCity=e),onChange:t[1]||(t[1]=(...e)=>c.getWeather&&c.getWeather(...e))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.cities,((e,t)=>((0,i.uX)(),(0,i.CE)("option",{value:t,key:t},(0,r.v_)(e["City"]),9,M)))),128))],544),[[a.u1,o.selectedCity]]),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>c.setFeatured&&c.setFeatured(...e))},"☆")]),(0,i.Lk)("div",J,[(0,i.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>c.changeUnits&&c.changeUnits(...e))},"°"+(0,r.v_)(n.currentUnits),1),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.$i18n.locale=t),onChange:t[5]||(t[5]=(...e)=>c.getWeather&&c.getWeather(...e))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.langs,((e,t)=>((0,i.uX)(),(0,i.CE)("option",{key:`Lang${t}`,value:e},(0,r.v_)(e),9,B)))),128))],544),[[a.u1,e.$i18n.locale]])])])}var V={data(){return{selectedCity:0,langs:["en","ru"]}},emits:[],props:{cities:JSON,currentUnits:String,SC:Number},methods:{changeUnits(){this.$parent.changeUnits()},getWeather(){this.$parent.getWeather()},setFeatured(){1==localStorage[String(this.selectedCity)]?(localStorage.removeItem(String(this.selectedCity)),console.log("rem")):(localStorage[String(this.selectedCity)]=1,console.log("set"))},updateSC(){this.selectedCity=this.SC,this.getWeather()}}};const G=(0,j.A)(V,[["render",H],["__scopeId","data-v-523d147d"]]);var R=G;const Z={class:"card"},q={class:"card_top"},Q={class:"card__main-info"},Y=["src"],ee={class:"card_bot"},te={class:"card__main-info"},ne={class:"card_bot"},ae={class:"card__sub-info card__sub-info_1"},ie={class:"card__sub-info card__sub-info_2"},re={class:"card__sub-info card__sub-info_3"};function se(e,t,n,a,s,o){return(0,i.uX)(),(0,i.CE)("div",Z,[(0,i.Lk)("div",q,[(0,i.Lk)("div",Q,[(0,i.Lk)("img",{src:"https://openweathermap.org/img/wn/"+n.weatherNow["weather"][0]["icon"]+"@4x.png",alt:"no icon",height:"128px",width:"128px"},null,8,Y),(0,i.Lk)("span",ee,(0,r.v_)(n.weatherNow["weather"][0]["description"]),1)]),(0,i.Lk)("div",te,[(0,i.Lk)("span",null,(0,r.v_)(n.weatherNow["main"]["temp"])+" °"+(0,r.v_)(n.units),1)])]),(0,i.Lk)("div",ne,[(0,i.Lk)("div",ae,[(0,i.Lk)("span",null,(0,r.v_)(e.$t("wind")),1),(0,i.Lk)("span",null,(0,r.v_)(e.$t("humidity")),1),(0,i.Lk)("span",null,(0,r.v_)(e.$t("pressure")),1)]),(0,i.Lk)("div",ie,[(0,i.Lk)("span",null,(0,r.v_)(n.weatherNow["wind"]["speed"]),1),(0,i.Lk)("span",null,(0,r.v_)(n.weatherNow["main"]["humidity"]),1),(0,i.Lk)("span",null,(0,r.v_)(n.weatherNow["main"]["pressure"]),1)]),(0,i.Lk)("div",re,[(0,i.Lk)("span",null,(0,r.v_)(e.$t("speed")),1),t[0]||(t[0]=(0,i.Lk)("span",null,"%",-1)),(0,i.Lk)("span",null,(0,r.v_)(e.$t("pres")),1)])])])}var oe={props:{weatherNow:JSON,units:String}};const ce=(0,j.A)(oe,[["render",se],["__scopeId","data-v-3c1bbfef"]]);var le=ce;const ue={class:"list"},de=["id"];function he(e,t,n,a,s,o){return(0,i.uX)(),(0,i.CE)("div",ue,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.feat,(e=>((0,i.uX)(),(0,i.CE)("button",{class:"list__item",key:e,id:e,onClick:t[0]||(t[0]=e=>o.sendFeature(e))},(0,r.v_)(this.$parent.cities[e]["City"]),9,de)))),128))])}var pe={data(){return{feat:Object.keys(localStorage)}},emits:["sendFeature"],methods:{sendFeature(e){this.$emit("sendSC",e.target.id)}},mounted(){void 0===Object.keys(localStorage)&&(localStorage[0]=1)}};const me=(0,j.A)(pe,[["render",he],["__scopeId","data-v-908f16b2"]]);var ge=me,ve={components:{"card-list":D,"my-header":R,"weather-main-card":le,"feature-list":ge},data(){return{weatherNow:null,weatherForecast:null,cities:[],currentUnits:"C",feat:Object.keys(localStorage),selectedCity:0}},methods:{getWeather(){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${this.$refs.header.cities[this.$refs.header.selectedCity]?.Lat}&lon=${this.$refs.header.cities[this.$refs.header.selectedCity]?.Lon}&appid=de97e3b38fb8be62d9aa634927b0b35c&units=metric&lang=${this.$t("api")}`).then((e=>e.json())).then((e=>{this.weatherNow=e,this.weatherNow["main"]["temp"]=this.weatherNow["main"]["temp"].toFixed(0)})),fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${this.$refs.header.cities[this.$refs.header.selectedCity]?.Lat}&lon=${this.$refs.header.cities[this.$refs.header.selectedCity]?.Lon}&appid=de97e3b38fb8be62d9aa634927b0b35c&units=metric&lang=${this.$t("api")}`).then((e=>e.json())).then((e=>{this.weatherForecast=e;for(let t=0;t<40;t++)this.weatherForecast["list"][t]["main"]["temp"]=this.weatherForecast["list"][t]["main"]["temp"].toFixed(0)}))},changeUnits(){if("C"==this.currentUnits){this.currentUnits="F",this.weatherNow["main"]["temp"]=(9*this.weatherNow["main"]["temp"]/5+32).toFixed(0);for(let e=0;e<40;e++)this.weatherForecast["list"][e]["main"]["temp"]=(9*this.weatherForecast["list"][e]["main"]["temp"]/5+32).toFixed(0)}else if("F"==this.currentUnits){this.currentUnits="C",this.weatherNow["main"]["temp"]=(5*(this.weatherNow["main"]["temp"]-32)/9).toFixed(0);for(let e=0;e<40;e++)this.weatherForecast["list"][e]["main"]["temp"]=(5*(this.weatherForecast["list"][e]["main"]["temp"]-32)/9).toFixed(0)}},getFeature(e){this.selectedCity=e,this.$refs.header.updateSC()}},mounted(){void 0===Object.keys(localStorage)&&(localStorage[0]=1),fetch("cities.json").then((e=>e.json())).then((e=>{this.cities=e}))}};const fe=(0,j.A)(ve,[["render",p]]);var _e=fe,we=(n(8992),n(3949),n(5384));function ke(){const e=n(5502),t={};return e.keys().forEach((n=>{const a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){const i=a[1];t[i]=e(n).default}})),t}var be=(0,we.hU)({legacy:!1,locale:"en",fallbackLocale:"en",messages:ke()});(0,a.Ef)(_e).use(be).mount("#app")},5502:function(e,t,n){var a={"./en.json":5188,"./ru.json":7526};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=5502}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,i,r){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],r=e[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(o=!1,r<s&&(s=r));if(o){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/weather_vue/dist/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,s=a[0],o=a[1],c=a[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var u=c(n)}for(t&&t(a);l<s.length;l++)r=s[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self["webpackChunkweather"]=self["webpackChunkweather"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(3340)}));a=n.O(a)})();
//# sourceMappingURL=app.3284c3c1.js.map